{"version":3,"sources":["popup.js","scroll.js"],"names":["popup","document","querySelector","popupIMG","caption","out","img","getElementById","getElementsByTagName","close","create","htmlStr","frag","createDocumentFragment","temp","createElement","innerHTML","firstChild","appendChild","isInPage","node","body","contains","imgList","i","push","onclick","fragment","src","alt","insertBefore","childNodes","setAttribute","length","_loop","addEventListener","window","scroll","scrollTop","heightWindow","innerHeight","className","title","getElementsByClassName","arrow","bio","date","style","opacity","Math","max","transform","scrollTo","element","to","duration","difference","perTick","setTimeout","content","offsetTop","runScroll","e","preventDefault","scrollme"],"mappings":"YA0BA,KAAI,GA1BEA,OAAWC,SAASC,cAAc,UAClCC,SAAWF,SAASC,cAAc,cAClCE,QAAWH,SAASC,cAAc,YAClCG,IAAWJ,SAASC,cAAc,QAClCI,IAAWL,SAASM,eAAe,QAAQC,qBAAqB,OAChEC,MAAWR,SAASM,eAAe,UAEnCG,OAAS,SAACC,GACd,GAAMC,GAAOX,SAASY,yBAChBC,EAAOb,SAASc,cAAc,MAGpC,KAFAD,EAAKE,UAAYL,EAEVG,EAAKG,YACVL,EAAKM,YAAYJ,EAAKG,WAGxB,OAAOL,IAGHO,SAAW,SAACC,GAChB,MAAQA,KAASnB,SAASoB,MAAgBpB,SAASoB,KAAKC,SAASF,IAI/DG,0BAEIC,GACND,QAAQE,KAAKnB,IAAIkB,IAEjBlB,IAAIkB,GAAGE,QAAU,WACf,GAAIC,GAAWjB,OAAO,qOAAuOa,QAAQC,GAAGI,IAAM,UAAYL,QAAQC,GAAGK,IAAM,4IAC3S5B,UAASoB,KAAKS,aAAaH,EAAU1B,SAASoB,KAAKU,WAAW,IAC9D9B,SAASoB,KAAKW,aAAa,QAAS,uBANhCR,EAAI,EAAGA,EAAIlB,IAAI2B,OAAQT,IAAKU,MAA5BV,EC1BRvB,UAASkC,iBAAiB,mBAAoB,WAC5CC,OAAOD,iBAAiB,SAAU,WAChC,GAAME,GAAepC,SAASoB,KAAKiB,UAC7BC,EAAeH,OAAOI,YAAc,EACtCH,IAAUE,EACZtC,SAASM,eAAe,OAAOkC,UAAY,oBAE3CxC,SAASM,eAAe,OAAOkC,UAAY,YAG7C,IAAMtB,GAAW,SAACC,GAChB,MAAQA,KAASnB,SAASoB,MAAgBpB,SAASoB,KAAKC,SAASF,IAG7DsB,EAAQzC,SAAS0C,uBAAuB,cAAc,GACtDC,EAAQ3C,SAAS0C,uBAAuB,SAAS,GACjDE,EAAQ5C,SAAS0C,uBAAuB,OAAO,GAC/CG,EAAQ7C,SAAS0C,uBAAuB,eAAe,EAE7DC,GAAMG,MAAMC,QAAU,EAAIC,KAAKC,IAAIb,EAAO,IAAK,GAE3ClB,EAAS2B,KACXA,EAAKC,MAAMC,QAAU,EAAIC,KAAKC,IAAIb,EAAO,IAAK,IAG5ClB,EAASuB,IACXA,EAAMK,MAAMI,UAAY,oBAAsBd,EAAO,EAAI,WACzDK,EAAMK,MAAMC,QAAU,EAAIC,KAAKC,IAAIb,EAAO,IAAK,IACrClB,EAASuB,KACnBG,EAAIE,MAAMC,QAAU,EAAIC,KAAKC,IAAIb,EAAO,IAAK,GAC7CQ,EAAIE,MAAMI,UAAY,oBAAsBd,EAAO,EAAI,aAI3D,IAAMe,GAAW,QAAXA,GAAYC,EAASC,EAAIC,GAC7B,KAAIA,GAAY,GAAhB,CACA,GAAMC,GAAaF,EAAKD,EAAQf,UAC1BmB,EAAUD,EAAaD,EAAW,EAExCG,YAAW,WACTL,EAAQf,UAAYe,EAAQf,UAAYmB,EACpCJ,EAAQf,WAAagB,GACzBF,EAASC,EAASC,EAAIC,EAAW,KAChC,MAGCI,EAAU1D,SAASC,cAAc,SAAS0D,UAE1CC,EAAY,SAACC,GACjBA,EAAEC,iBACFX,EAASnD,SAASoB,KAAMsC,EAAS,MAG/BK,EAAAA,MACJA,GAAW/D,SAASC,cAAc,UAClC8D,EAAS7B,iBAAiB,QAAS0B,GAAW","file":"../js/main.min.js","sourcesContent":["const popup    = document.querySelector('#popup');\nconst popupIMG = document.querySelector('#popup-img');\nconst caption  = document.querySelector('#caption');\nconst out      = document.querySelector('#out');\nconst img      = document.getElementById('main').getElementsByTagName('img');\nconst close    = document.getElementById('.close');\n\nconst create = (htmlStr) => {\n  const frag = document.createDocumentFragment();\n  const temp = document.createElement('div');\n  temp.innerHTML = htmlStr;\n\n  while (temp.firstChild) {\n    frag.appendChild(temp.firstChild);\n  }\n\n  return frag;\n};\n\nconst isInPage = (node) => {\n  return (node === document.body) ? false : document.body.contains(node);\n};\n\n\nlet imgList = [];\n\nfor(let i = 0; i < img.length; i++) {\n  imgList.push(img[i]);\n\n  img[i].onclick = () => {\n    let fragment = create('<div id=\"popup\" class=\"popup open\"><span class=\"close\" onclick=\"document.querySelector(\\'#popup\\').remove();document.body.setAttribute(\\'class\\', \\'page-article\\')\">&times;</span><img class=\"popup-content\" id=\"popup-img\" src=\"' + imgList[i].src + '\" alt=\"' + imgList[i].alt + '\"><div id=\"out\" onclick=\"document.querySelector(\\'#popup\\').remove();document.body.setAttribute(\\'class\\', \\'page-article\\')\"></div></div>');\n    document.body.insertBefore(fragment, document.body.childNodes[0]);\n    document.body.setAttribute('class', 'page-article blur');\n  }\n};\n","document.addEventListener(\"DOMContentLoaded\", () => {\n  window.addEventListener('scroll', () => {\n    const scroll       = document.body.scrollTop;\n    const heightWindow = window.innerHeight - 80;\n    if (scroll >= heightWindow) {\n      document.getElementById('nav').className = 'navigation scroll';\n    } else {\n      document.getElementById('nav').className = 'navigation';\n    };\n\n    const isInPage = (node) => {\n      return (node === document.body) ? false : document.body.contains(node);\n    };\n\n    const title = document.getElementsByClassName('page-title')[0];\n    const arrow = document.getElementsByClassName('arrow')[0];\n    const bio   = document.getElementsByClassName('bio')[0];\n    const date  = document.getElementsByClassName('header-date')[0];\n\n    arrow.style.opacity = 1 - Math.max(scroll/600, 0);\n\n    if (isInPage(date)) {\n      date.style.opacity = 1 - Math.max(scroll/600, 0);\n    }\n\n    if (isInPage(title)) {\n      title.style.transform = 'translate3d(0px, ' + scroll/2 + 'px, 0px)';\n      title.style.opacity = 1 - Math.max(scroll/600, 0);\n    } else if (!isInPage(title)) {\n      bio.style.opacity = 1 - Math.max(scroll/600, 0);\n      bio.style.transform = 'translate3d(0px, ' + scroll/2 + 'px, 0px)';\n    }\n  });\n\n  const scrollTo = (element, to, duration) => {\n    if (duration <= 0) return;\n    const difference = to - element.scrollTop;\n    const perTick = difference / duration * 10;\n\n    setTimeout(() => {\n      element.scrollTop = element.scrollTop + perTick;\n      if (element.scrollTop == to) return;\n      scrollTo(element, to, duration - 10);\n    }, 10);\n  };\n\n  const content = document.querySelector('#main').offsetTop;\n\n  const runScroll = (e) => {\n    e.preventDefault();\n    scrollTo(document.body, content, 500);\n  };\n\n  let scrollme;\n  scrollme = document.querySelector(\".arrow\");\n  scrollme.addEventListener(\"click\", runScroll, false);\n});\n"]}